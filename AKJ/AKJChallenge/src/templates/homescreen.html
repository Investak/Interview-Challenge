{% extends "base.html" %}
{% load staticfiles %}

{% block jumbotron %}
	<div class="jumbotron">
		<div class="container">
			<div class="row">
		  		<div class="col-sm-6" >
						  <h2><b>Welcome {{user.username}},</b></h2>
				          <p>Here you can create portfolio i.e collection of stocks (APPL,AMZ,FB) and compare this portfolio with individual stocks. Shown below is an example of charts generated by "Chartjs" powered by React.</p>
			     </div>

			     <div class="col-sm-6">
			        <img  class = "image-align-center-vertical" src="{% static 'img/canvas.png' %}" class="img-responsive">
			     </div>
            </div>
		</div>
	</div>
{% endblock %}


{% block content %}
<div class="row">
    <div class="col-sm-12">
        <h2 class="text-align-center"><b>VisualOne</b></h2>
    </div>
</div>

<section class="container">
    <section class="row">
        <section class="col-sm-12">
            <canvas class = "container" id="myChart" width="500" height="150"></canvas>
        </section>
    </section>
</section>




<script type="text/javascript">

    var data = {
       
       labels: ["January", "February", "March", "April", "May", "June", "July"],
        datasets: [
        {
            label: "My First dataset",
            fillColor: "rgba(220,40,220,0.2)",
            strokeColor: "rgba(220,40,220,1)",
            pointColor: "rgba(220,220,220,1)",
            pointStrokeColor: "#fff",
            pointHighlightFill: "#fff",
            pointHighlightStroke: "rgba(220,220,220,1)",
            data: [65, 30, 80, 32, 56, 45, 40]
        }, {
            label: "My Second dataset",
            fillColor: "rgba(151,187,205,0.2)",
            strokeColor: "rgba(151,187,205,1)",
            pointColor: "rgba(151,187,205,1)",
            pointStrokeColor: "#fff",
            pointHighlightFill: "#fff",
            pointHighlightStroke: "rgba(151,187,205,1)",
            data: [28, 59, 31, 81, 28, 68, 35]
        }]
    };
  
    var k =0;
    var c;

    {% for i in data_yahoo %}
        c = "{{i.date}} ";
        data.datasets[0].data[k]={{i.close}};
        data.labels[k]=String(c);
        k++;
    {% endfor %}

    var ctx = document.getElementById("myChart").getContext("2d");
    var myLineChart = new Chart(ctx).Line(data);
    
</script>
{% endblock %}


